"use client"\n\nimport { useState } from "react"\nimport Image from "next/image"\nimport { Star, ShoppingCart, Heart, Share2, ArrowLeft, Minus, Plus } from "lucide-react"\nimport Link from "next/link"\nimport { products } from "@/lib/products"\nimport { formatPrice } from "@/lib/products"\nimport { useCart } from "@/lib/cart-context"\n\nexport default function ProductDetailPage({ params }: { params: { id: string } }) {\n  const product = products.find((p) => p.id === params.id)\n  const [quantity, setQuantity] = useState(1)\n  const { addToCart } = useCart()\n\n  if (!product) {\n    return (\n      <div className=\"mx-auto max-w-7xl px-4 py-16 text-center lg:px-8\">\n        <h1 className=\"text-3xl font-bold text-foreground\">Product not found</h1>\n        <p className=\"mt-4 text-muted-foreground\">The product you're looking for doesn't exist.</p>\n        <Link\n          href=\"/products\"\n          className=\"mt-6 inline-block rounded-lg bg-primary px-6 py-3 text-sm font-semibold text-primary-foreground\"\n        >\n          Back to Products\n        </Link>\n      </div>\n    )\n  }\n\n  const handleAddToCart = () => {\n    for (let i = 0; i < quantity; i++) {\n      addToCart(product)\n    }\n  }\n\n  const relatedProducts = products\n    .filter((p) => p.category === product.category && p.id !== product.id)\n    .slice(0, 4)\n\n  return (\n    <div className=\"mx-auto max-w-7xl px-4 py-8 lg:px-8\">\n      <Link\n        href=\"/products\"\n        className=\"mb-6 inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground\"\n      >\n        <ArrowLeft className=\"h-4 w-4\" />\n        Back to Products\n      </Link>\n\n      <div className=\"grid gap-8 lg:grid-cols-2\">\n        <div className=\"flex items-center justify-center\">\n          <div className=\"relative aspect-square w-full overflow-hidden rounded-xl border border-border bg-secondary\">\n            <Image\n              src={product.image}\n              alt={product.name}\n              fill\n              className=\"object-cover\"\n              sizes=\"(max-width: 768px) 100vw, 50vw\"\n              priority\n            />\n            {product.badge && (\n              <span className=\"absolute left-4 top-4 rounded-md bg-primary px-3 py-1 text-xs font-semibold text-primary-foreground\">\n                {product.badge}\n              </span>\n            )}\n          </div>\n        </div>\n\n        <div className=\"flex flex-col gap-6\">\n          <div>\n            <div className=\"mb-2 flex items-center gap-2\">\n              <span className=\"text-xs font-semibold uppercase tracking-wider text-muted-foreground\">\n                {product.brand}\n              </span>\n              {product.size && (\n                <span className=\"rounded bg-secondary px-2 py-1 text-xs font-medium text-muted-foreground\">\n                  {product.size}\n                </span>\n              )}\n            </div>\n            <h1 className=\"text-3xl font-bold text-foreground\">{product.name}</h1>\n            <p className=\"mt-2 text-sm text-muted-foreground\">{product.description}</p>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            <div className=\"flex items-center gap-1\">\n              {Array.from({ length: 5 }).map((_, i) => (\n                <Star\n                  key={i}\n                  className={\`h-4 w-4 ${\n                    i < Math.floor(product.rating)\n                      ? \"fill-foreground text-foreground\"\n                      : \"fill-muted text-muted\"\n                  }\`}\n                />\n              ))}\n            </div>\n            <span className=\"text-sm text-muted-foreground\">\n              {product.rating} ({product.reviews} reviews)\n            </span>\n          </div>\n\n          <div className=\"flex items-baseline gap-2\">\n            <span className=\"text-3xl font-bold text-foreground\">{formatPrice(product.price)}</span>\n            {product.originalPrice && (\n              <span className=\"text-sm text-muted-foreground line-through\">\n                {formatPrice(product.originalPrice)}\n              </span>\n            )}\n            {product.originalPrice && (\n              <span className=\"text-sm font-semibold text-green-600\">\n                Save {Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100)}%\n              </span>\n            )}\n          </div>\n\n          <div className=\"flex items-center gap-4\">\n            <span className=\"text-sm font-medium text-muted-foreground\">Quantity:</span>\n            <div className=\"flex items-center gap-2 rounded-lg border border-border bg-secondary\">\n              <button\n                onClick={() => setQuantity(Math.max(1, quantity - 1))}\n                className=\"p-2 hover:text-foreground\"\n              >\n                <Minus className=\"h-4 w-4\" />\n              </button>\n              <span className=\"w-8 text-center font-medium\">{quantity}</span>\n              <button\n                onClick={() => setQuantity(quantity + 1)}\n                className=\"p-2 hover:text-foreground\"\n              >\n                <Plus className=\"h-4 w-4\" />\n              </button>\n            </div>\n          </div>\n\n          <div className=\"flex gap-3\">\n            <button\n              onClick={handleAddToCart}\n              className=\"flex flex-1 items-center justify-center gap-2 rounded-lg bg-primary px-6 py-3 text-sm font-semibold text-primary-foreground transition-opacity hover:opacity-90\"\n            >\n              <ShoppingCart className=\"h-5 w-5\" />\n              Add to Cart\n            </button>\n            <button className=\"flex items-center justify-center rounded-lg border border-border px-4 py-3 text-sm font-semibold text-foreground transition-colors hover:bg-secondary\">\n              <Heart className=\"h-5 w-5\" />\n            </button>\n            <button className=\"flex items-center justify-center rounded-lg border border-border px-4 py-3 text-sm font-semibold text-foreground transition-colors hover:bg-secondary\">\n              <Share2 className=\"h-5 w-5\" />\n            </button>\n          </div>\n\n          <div className=\"border-t border-border pt-6\">\n            <h3 className=\"mb-3 font-semibold text-foreground\">Product Details</h3>\n            <ul className=\"space-y-2 text-sm text-muted-foreground\">\n              <li className=\"flex justify-between\">\n                <span>Brand:</span>\n                <span className=\"text-foreground\">{product.brand}</span>\n              </li>\n              <li className=\"flex justify-between\">\n                <span>Category:</span>\n                <span className=\"text-foreground capitalize\">{product.category}</span>\n              </li>\n              {product.size && (\n                <li className=\"flex justify-between\">\n                  <span>Size/Storage:</span>\n                  <span className=\"text-foreground\">{product.size}</span>\n                </li>\n              )}\n              <li className=\"flex justify-between\">\n                <span>Rating:</span>\n                <span className=\"text-foreground\">{product.rating} / 5</span>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      {relatedProducts.length > 0 && (\n        <div className=\"mt-16 border-t border-border pt-12\">\n          <h2 className=\"mb-6 text-2xl font-bold text-foreground\">Related Products</h2>\n          <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-4\">\n            {relatedProducts.map((relatedProduct) => (\n              <Link\n                key={relatedProduct.id}\n                href={\`/products/${relatedProduct.id}\`}\n                className=\"group flex flex-col overflow-hidden rounded-xl border border-border bg-card transition-all hover:border-muted-foreground/30\"\n              >\n                <div className=\"relative aspect-square overflow-hidden bg-secondary\">\n                  <Image\n                    src={relatedProduct.image}\n                    alt={relatedProduct.name}\n                    fill\n                    className=\"object-cover transition-transform duration-300 group-hover:scale-105\"\n                    sizes=\"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 25vw\"\n                  />\n                </div>\n                <div className=\"flex flex-1 flex-col gap-2 p-4\">\n                  <h3 className=\"line-clamp-2 text-sm font-semibold text-foreground\">{relatedProduct.name}</h3>\n                  <p className=\"text-lg font-bold text-foreground\">{formatPrice(relatedProduct.price)}</p>\n                </div>\n              </Link>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n}